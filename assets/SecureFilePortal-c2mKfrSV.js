import{c as j,u as _e,r as o,g as Ee,j as e,S as ae,a as Fe,b as Ae,H as Te,U as re,T as z,m as ne,F as Le}from"./index-DlwALYAs.js";import{S as A,K as Me}from"./send-oEi8-0X8.js";import{D as Ue}from"./download-Bven_XQe.js";import{C as Ie}from"./copy-Cu4FuFmM.js";const Re=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],$e=j("file",Re);const Ke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Pe=j("image",Ke);const Oe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],T=j("link",Oe);const ze=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],oe=j("lock-open",ze);const Be=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],B=j("lock",Be);const Ve=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qe=j("refresh-cw",Ve);const Ge=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],He=j("shuffle",Ge),Je=async a=>{const r=new TextEncoder,m=await crypto.subtle.importKey("raw",r.encode(a),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:r.encode("hhs-analytics-secure-salt-v1"),iterations:1e5,hash:"SHA-256"},m,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},le=async(a,r)=>{const m=crypto.getRandomValues(new Uint8Array(12)),h=await crypto.subtle.encrypt({name:"AES-GCM",iv:m},r,a),g=new Uint8Array(m.length+h.byteLength);return g.set(m,0),g.set(new Uint8Array(h),m.length),{encrypted:g,iv:Array.from(m)}},ce=async(a,r)=>{const m=a.slice(0,12),h=a.slice(12);try{return await crypto.subtle.decrypt({name:"AES-GCM",iv:m},r,h)}catch(g){throw console.error("Decryption failed",g),new Error("Decryption failed")}},We=()=>{const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";const m=new Uint8Array(12);crypto.getRandomValues(m);for(let h=0;h<12;h++)r+=a[m[h]%a.length];return r},Xe="portal_messages_",Qe="portal_files_",H=a=>a?`${Xe}${a}`:"",V=a=>{if(typeof window>"u"||!a)return[];try{const r=window.localStorage.getItem(H(a));return r?JSON.parse(r):[]}catch(r){return console.error("Failed to read local portal messages",r),[]}},q=(a,r)=>{if(!(typeof window>"u"||!a))try{window.localStorage.setItem(H(a),JSON.stringify(r))}catch(m){console.error("Failed to persist local portal messages",m)}},J=a=>a?`${Qe}${a}`:"",G=a=>{if(typeof window>"u"||!a)return[];try{const r=window.localStorage.getItem(J(a));return r?JSON.parse(r):[]}catch(r){return console.error("Failed to read local portal files",r),[]}},ie=(a,r)=>{if(!(typeof window>"u"||!a))try{window.localStorage.setItem(J(a),JSON.stringify(r))}catch(m){console.error("Failed to persist local portal files",m)}},st=()=>{const{addToast:a}=_e(),[r,m]=o.useState("messages"),[h,g]=o.useState(!1),[c,N]=o.useState(""),[w,W]=o.useState(null),[u,de]=o.useState(!1),[X,k]=o.useState(""),[L,v]=o.useState([]),[_,b]=o.useState([]),[S,Q]=o.useState(""),[M,Y]=o.useState(!1),[U,me]=o.useState(""),[I,he]=o.useState(""),[R,pe]=o.useState(""),[Z,xe]=o.useState(""),[$,K]=o.useState(!1),P=o.useRef(null),ee=o.useRef(null),O=o.useRef(null),C=o.useRef(null),d=Ee(),f=o.useCallback(async t=>{const s=t||c;if(!s)return;if(!u||!d){const p=V(s);b(Array.isArray(p)?p:[]);const i=G(s);v(Array.isArray(i)?i:[]);return}const{data:n,error:l}=await d.from("portal_files").select("*").eq("token",s).order("uploaded_at",{ascending:!1});if(l)console.error("Failed to load files",l);else if(n){const p=n.map(i=>({id:i.id,name:i.file_name,type:i.file_type,size:i.file_size,encrypted:i.encrypted_data,uploadedAt:i.uploaded_at,uploadedBy:i.uploaded_by}));v(p)}const{data:x,error:y}=await d.from("portal_messages").select("*").eq("token",s).order("created_at",{ascending:!0});if(y)console.error("Failed to load messages",y);else if(x){const p=x.map(i=>({id:i.id,text:i.message_text,author:i.author,timestamp:i.created_at}));b(p)}},[c,d,u]),E=o.useCallback(async t=>{const s=t||c;if(!s||s.length<8){k("Token must be at least 8 characters");return}try{const n=await Je(s);W(n),N(s),g(!0),k(""),typeof window<"u"&&localStorage.setItem("portal_access_token",s),await f(s)}catch(n){k("Authentication failed"),console.error("Authentication failed",n)}},[c,f]);o.useEffect(()=>{r==="messages"&&O.current&&O.current.scrollIntoView({behavior:"smooth"})},[_,r]),o.useEffect(()=>{r==="messages"&&C.current&&C.current.focus()},[r]),o.useEffect(()=>{if(typeof window>"u")return;let t;if(window.location.hash&&window.location.hash.includes("?")){const l=window.location.hash.split("?")[1];t=new URLSearchParams(l)}else t=new URLSearchParams(window.location.search);const s=t.get("tab"),n=t.get("token");s&&["messages","files","encrypt"].includes(s)&&m(s),n&&n.length>=8&&!h&&(N(n),a('Token loaded from link. Click "Unlock Portal" to enter.',"info"))},[a,h]),o.useEffect(()=>{d&&de(!0)},[d]),o.useEffect(()=>{if(typeof window>"u")return;const t=localStorage.getItem("portal_access_token");t&&(N(t),E(t))},[E]),o.useEffect(()=>{if(h)return ee.current=setInterval(()=>{f()},5e3),()=>clearInterval(ee.current)},[h,w,f]),o.useEffect(()=>{if(typeof window>"u"||!h||u||!c)return;const t=H(c),s=J(c);if(!t&&!s)return;const n=l=>{if(l.key===t){try{const x=l.newValue?JSON.parse(l.newValue):[];b(Array.isArray(x)?x:[])}catch(x){console.error("Failed to sync portal messages from storage event",x)}return}if(l.key===s)try{const x=l.newValue?JSON.parse(l.newValue):[];v(Array.isArray(x)?x:[])}catch(x){console.error("Failed to sync portal files from storage event",x)}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[c,h,u]);const ue=()=>{typeof window<"u"&&(localStorage.removeItem("portal_access_token"),window.history.replaceState({},"",window.location.pathname)),g(!1),N(""),W(null),v([]),b([])},te=async()=>{if(!S.trim()||!w)return;const t={text:S,author:"User",timestamp:new Date().toISOString()};try{if(u&&d)await d.from("portal_messages").insert({token:c,message_text:S,author:"User"}),await f();else{const s={...t,id:Date.now()},l=[...V(c),s];q(c,l),b(l)}Q(""),C.current&&C.current.focus()}catch(s){a("Failed to send message","error"),console.error("Failed to send message",s)}},fe=async t=>{if(u&&d)await d.from("portal_messages").delete().eq("id",t),await f(),a("Message deleted","success");else{const n=V(c).filter(l=>l.id!==t);q(c,n),b(n),a("Message deleted","success")}},ye=async()=>{confirm("Are you sure you want to clear all messages?")&&(u&&d?(await d.from("portal_messages").delete().eq("token",c),await f()):(q(c,[]),b([])),a("Chat cleared","success"))},se=async t=>{if(!(!t.length||!w)){Y(!0);try{for(const s of t){const n=await s.arrayBuffer(),{encrypted:l}=await le(n,w),x=btoa(String.fromCharCode(...l));if(u&&d){const y=`${c}/${Date.now()}-${s.name}`,p=new Blob([l]),{error:i}=await d.storage.from("portal-uploads").upload(y,p,{contentType:s.type,upsert:!1});if(i)throw new Error(`Storage upload failed: ${i.message}`);await d.from("portal_files").insert({token:c,file_name:s.name,file_type:s.type,file_size:s.size,encrypted_data:y,iv:"included_in_blob",uploaded_by:"User"})}else{if(s.size>5*1024*1024){a(`File ${s.name} is too large for local mode (max 5MB). Use Cloud mode.`,"error");continue}const y=btoa(String.fromCharCode(...l)),p={id:`${Date.now()}-${s.name}-${Math.random().toString(36).slice(2)}`,name:s.name,type:s.type,size:s.size,encrypted:y,uploadedAt:new Date().toISOString(),uploadedBy:"User"},i=G(c),D=[p,...i];ie(c,D),v(D)}}u&&d&&await f(),a("Files uploaded securely","success")}catch(s){k("Upload failed: "+s.message),console.error(s)}finally{Y(!1),P.current&&(P.current.value="")}}},ge=async t=>{const s=Array.from(t.target.files);await se(s)},we=t=>{t.preventDefault(),K(!0)},be=t=>{t.preventDefault(),K(!1)},je=async t=>{t.preventDefault(),K(!1);const s=Array.from(t.dataTransfer.files);s.length>0&&await se(s)},Ne=async t=>{try{let s;if(t.encrypted.length<500&&!t.encrypted.endsWith("=")&&u&&d){const{data:i,error:D}=await d.storage.from("portal-uploads").download(t.encrypted);if(D)throw D;const De=await i.arrayBuffer();s=new Uint8Array(De)}else s=Uint8Array.from(atob(t.encrypted),i=>i.charCodeAt(0));const l=await ce(s,w),x=new Blob([l],{type:t.type}),y=URL.createObjectURL(x),p=document.createElement("a");p.href=y,p.download=t.name,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(y)}catch(s){a("Decryption/Download failed. Check your connection.","error"),console.error("Decryption failed during download",s)}},ve=async t=>{if(u&&d){const s=L.find(n=>n.id===t);s&&s.encrypted.length<500&&!s.encrypted.endsWith("=")&&await d.storage.from("portal-uploads").remove([s.encrypted]),await d.from("portal_files").delete().eq("id",t),await f(),a("File deleted","success")}else{const n=G(c).filter(l=>l.id!==t);ie(c,n),v(n),a("File deleted","success")}},ke=async()=>{if(!U||!w)return;const t=new TextEncoder,{encrypted:s}=await le(t.encode(U),w);he(btoa(String.fromCharCode(...s)))},Se=async()=>{if(!(!R||!w))try{const t=Uint8Array.from(atob(R),l=>l.charCodeAt(0)),s=await ce(t,w),n=new TextDecoder;xe(n.decode(s))}catch(t){a("Decryption failed","error"),console.error("Text decryption failed",t)}},Ce=()=>{const t=We();N(t),k("")},F=()=>{const t=`${window.location.origin}${window.location.pathname}#/portal?token=${c}`;navigator.clipboard.writeText(t),a("Invite link copied! Send it to a colleague.","success")};return h?e.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-brand-600 rounded-lg flex items-center justify-center text-white",children:e.jsx(ae,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg text-slate-900",children:"Secure Portal"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-2 py-0.5 rounded border border-green-100",children:[e.jsx(B,{className:"h-3 w-3"})," End-to-End Encrypted"]}),e.jsxs("button",{onClick:F,className:"flex items-center gap-1 hover:bg-slate-100 px-2 py-0.5 rounded transition-colors cursor-pointer group",title:"Copy invite link",children:[e.jsxs("span",{className:"font-mono font-bold",children:[c.slice(0,4),"***"]}),e.jsx(T,{className:"h-3 w-3 text-slate-400 group-hover:text-brand-600"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:F,className:"btn-secondary text-sm hidden lg:flex",children:[e.jsx(T,{className:"h-4 w-4 mr-2"})," Invite"]}),e.jsxs("button",{onClick:ue,className:"btn-secondary text-sm text-red-600 hover:bg-red-50 border-red-200",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"})," Leave"]})]})]}),e.jsx("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-lg w-fit",children:["messages","files","encrypt"].map(t=>e.jsxs("button",{onClick:()=>m(t),className:`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${r===t?"bg-white text-brand-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[t==="messages"&&e.jsx(A,{className:"h-4 w-4"}),t==="files"&&e.jsx(re,{className:"h-4 w-4"}),t==="encrypt"&&e.jsx(Me,{className:"h-4 w-4"}),t.charAt(0).toUpperCase()+t.slice(1)]},t))}),r==="messages"&&e.jsxs("div",{className:"card h-[600px] flex flex-col p-0 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-brand-500"})," Secure Chat"]}),e.jsxs("div",{className:"flex gap-2",children:[_.length>0&&e.jsx("button",{onClick:ye,className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-full transition-colors",title:"Clear all messages",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>f(),className:"p-2 hover:bg-slate-200 text-slate-400 hover:text-slate-600 rounded-full transition-colors",title:"Refresh",children:e.jsx(qe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[_.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[e.jsx("div",{className:"bg-slate-100 p-4 rounded-full mb-4",children:e.jsx(A,{className:"h-8 w-8 text-slate-300"})}),e.jsx("p",{className:"font-medium text-slate-600",children:"No messages yet"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-xs text-center",children:"Share this room's token with others to start chatting securely."}),e.jsxs("button",{onClick:F,className:"mt-4 text-brand-600 text-sm font-medium hover:underline flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"})," Copy Invite Link"]})]}):_.map(t=>e.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group flex flex-col items-end",children:e.jsxs("div",{className:"max-w-[80%] bg-white border border-slate-200 p-3 rounded-2xl rounded-tr-sm shadow-sm hover:shadow-md transition-shadow relative",children:[e.jsx("p",{className:"text-slate-800 whitespace-pre-wrap",children:t.text}),e.jsxs("div",{className:"flex items-center justify-between gap-4 mt-2",children:[e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.timestamp).toLocaleTimeString()}),e.jsx("button",{onClick:()=>fe(t.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded text-red-400 hover:text-red-600",title:"Delete message",children:e.jsx(z,{className:"h-3 w-3"})})]})]})},t.id)),e.jsx("div",{ref:O})]}),e.jsxs("div",{className:"p-4 bg-white border-t border-slate-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{ref:C,value:S,onChange:t=>Q(t.target.value),onKeyDown:t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),te())},placeholder:"Type a secure message...",className:"input-field flex-1 resize-none",rows:2}),e.jsx("button",{onClick:te,disabled:!S.trim(),className:"btn-primary self-end",children:e.jsx(A,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2 flex items-center justify-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"})," Encrypted & Synced Instantly"]})]})]}),r==="files"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`card border-2 border-dashed transition-all duration-200 ${$?"border-brand-500 bg-brand-50 scale-[1.01] shadow-lg":"border-brand-200 hover:border-brand-400 bg-brand-50/30"}`,onDragOver:we,onDragLeave:be,onDrop:je,children:[e.jsx("input",{type:"file",multiple:!0,onChange:ge,className:"hidden",id:"file-upload",ref:P,disabled:M}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center py-12",children:[e.jsx("div",{className:`h-20 w-20 rounded-full shadow-sm flex items-center justify-center mb-4 transition-colors ${$?"bg-brand-100":"bg-white"}`,children:e.jsx(re,{className:`h-10 w-10 text-brand-600 ${M?"animate-bounce":""}`})}),e.jsx("span",{className:"text-xl font-bold text-brand-900 mb-2",children:M?"Encrypting & Uploading...":$?"Drop Files to Securely Upload":"Click or Drag Files Here"}),e.jsx("span",{className:"text-sm text-slate-500 max-w-xs text-center",children:"Files are encrypted client-side with AES-GCM before leaving your browser"})]})]}),e.jsxs("div",{className:"grid gap-4",children:[L.map(t=>e.jsxs(ne.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:"card flex items-center gap-4 p-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-12 w-12 bg-slate-100 rounded-lg flex items-center justify-center",children:t.type.includes("image")?e.jsx(Pe,{className:"h-6 w-6 text-slate-500"}):e.jsx(Le,{className:"h-6 w-6 text-slate-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-slate-900 truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[(t.size/1024).toFixed(1)," KB â€¢ ",new Date(t.uploadedAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Ne(t),className:"btn-secondary text-xs",children:[e.jsx(Ue,{className:"h-4 w-4 mr-1"})," Download"]}),e.jsx("button",{onClick:()=>ve(t.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(z,{className:"h-4 w-4"})})]})]},t.id)),L.length===0&&e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx($e,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No files shared yet"}),e.jsxs("button",{onClick:F,className:"mt-2 text-brand-600 text-sm font-medium hover:underline inline-flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"})," Invite others to share"]})]})]})]}),r==="encrypt"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card space-y-4",children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-brand-600"})," Encrypt Text"]}),e.jsx("textarea",{value:U,onChange:t=>me(t.target.value),className:"input-field w-full h-32 resize-none",placeholder:"Enter sensitive text..."}),e.jsx("button",{onClick:ke,className:"btn-primary w-full",children:"Encrypt"}),I&&e.jsxs("div",{className:"bg-slate-900 text-green-400 p-3 rounded-lg text-xs font-mono break-all relative group",children:[I,e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(I),a("Copied!","success")},className:"absolute top-2 right-2 p-1 bg-slate-800 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ie,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"card space-y-4",children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-brand-600"})," Decrypt Text"]}),e.jsx("textarea",{value:R,onChange:t=>pe(t.target.value),className:"input-field w-full h-32 resize-none",placeholder:"Paste encrypted string..."}),e.jsx("button",{onClick:Se,className:"btn-secondary w-full",children:"Decrypt"}),Z&&e.jsx("div",{className:"bg-green-50 text-green-900 p-3 rounded-lg text-sm border border-green-200",children:Z})]})]})]}):e.jsx("div",{className:"max-w-md mx-auto mt-10",children:e.jsxs("div",{className:"card text-center p-8 space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-16 w-16 bg-brand-100 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"h-8 w-8 text-brand-600"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Secure Access"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Enter a room token to join a secure session."})]}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Room Token"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"password",value:c,onChange:t=>N(t.target.value),className:"input-field flex-1 text-base sm:text-lg tracking-widest",placeholder:"Paste token here...",onKeyDown:t=>t.key==="Enter"&&E()}),e.jsx("button",{onClick:Ce,className:"p-3 bg-slate-100 hover:bg-slate-200 rounded-lg text-slate-600 transition-colors",title:"Generate Random Token",children:e.jsx(He,{className:"h-5 w-5"})})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Don't have a token? Click the shuffle button to create a new secure room."})]}),X&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-lg flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"})," ",X]}),e.jsx("button",{onClick:()=>E(),className:"btn-primary w-full py-3 font-bold text-lg shadow-md hover:shadow-lg transition-all",children:"Unlock Portal"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-100",children:e.jsx("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"h-4 w-4 text-green-500"})," Cloud Sync Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"h-4 w-4 text-amber-500"})," Local Mode"]})})})]})})};export{st as default};
