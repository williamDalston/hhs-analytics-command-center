import{c as x,r as d,j as e,m as y,A as w,C as S,L as C}from"./index-GMRToMX0.js";import{D as P}from"./database-7Rfo_mZV.js";import{P as A}from"./panels-top-left-12PyWbL5.js";import{C as D,a as $}from"./chevron-up-B3_elvST.js";const L=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],I=x("box",L);const B=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],M=x("briefcase",B);const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E=x("circle",T);const H=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U=x("external-link",H),F=[{id:"data",title:"Data Layer",icon:P,color:"blue",description:"Power Query, APIs, and Data Cleaning",items:[{text:"**Connection Parameters:** Use parameters for Server, Database, and API Base URLs (Dev/Prod switching)."},{text:'**Query Folding:** Verify "View Native Query" is active for SQL sources to ensure performance.'},{text:"**API Pagination:** Implement robust pagination logic (List.Generate) for API calls."},{text:"**Column Profiling:** Check Column Quality/Distribution for unexpected nulls or outliers."},{text:"**Data Types:** Explicitly set data types for ALL columns (don't rely on auto-detect)."},{text:'**Naming Conventions:** Use CamelCase or PascalCase consistently (e.g., "OrderDate" not "order_date").'},{text:"**Remove Junk:** Filter out top rows, bottom rows, and blank rows early."},{text:"**Star Schema Prep:** Unpivot attribute columns to create tall, narrow tables."},{text:'**Disable Load:** Ensure staging/intermediate queries have "Enable Load" unchecked.'},{text:"**Documentation:** Add descriptions to queries in the Properties pane."}]},{id:"model",title:"Model Layer",icon:I,color:"emerald",description:"Star Schema, Relationships, and DAX",items:[{text:"**Dim/Fact Separation:** clearly separate Dimension (Who, What, Where) and Fact (Numbers) tables."},{text:"**Relationships:** Ensure 1-to-Many relationships flow from Dim to Fact (Single Direction)."},{text:'**Date Table:** Mark the Date table as "Date Table" to enable Time Intelligence functions.'},{text:"**Hide Keys:** Hide Surrogate Keys (IDs) in Fact tables to prevent misuse."},{text:'**Measure Organization:** Use a dedicated "Measures" table or folders for organization.'},{text:"**Formatting:** Set currency, decimal places, and thousands separators for all numeric fields."},{text:'**Sort By:** Configure "Sort By Column" for Month Names, Days of Week, etc.'},{text:'**Synonyms:** Add Q&A synonyms for key fields (e.g., "Revenue" -> "Sales").'},{text:"**DAX Best Practices:** Use DIVIDE() for ratios, avoid calculated columns for metrics.",link:"/dax",linkText:"View Patterns"},{text:"**Row Level Security:** Define RLS roles if data sensitivity requires it."}]},{id:"experience",title:"Experience Layer",icon:A,color:"amber",description:"UX, Branding, and Accessibility",items:[{text:'**HHS Trust Bar:** Ensure the "Official website of the United States government" banner is visible.'},{text:"**Brand Compliance:** Use exact HHS Hex codes (Blue: #005EA2, Navy: #1A4480).",link:"/style-guide",linkText:"Open Style Guide"},{text:"**Typography:** Use approved fonts (Source Sans Pro, Merriweather, or Arial).",link:"/style-guide",linkText:"Check Fonts"},{text:"**Alt Text:** Add meaningful Alt Text to every chart and non-decorative image (508 Compliance)."},{text:'**Tab Order:** Configure the "Selection" pane tab order for logical keyboard navigation.'},{text:"**Color Contrast:** Verify text/background contrast is at least 4.5:1 (WCAG AA)."},{text:"**Slicer Panel:** Group filters in a collapsible sidebar or clear top bar."},{text:"**Page Layout:** Use a grid system; place KPIs at top-left (F-Pattern)."},{text:"**Tooltips:** Create custom report page tooltips for detailed insights on hover."},{text:"**Mobile View:** Optimize the mobile layout for phone viewing."}]}],g=["ASPA Analytics Dashboard","Jira Delivery Dashboard","HHS Social Media Audit","General / Template"],v=()=>{if(typeof window>"u")return{checked:{},project:g[0]};const s=localStorage.getItem("pbi-prototype-builder"),p=localStorage.getItem("pbi-prototype-project");let m={};if(s)try{m=JSON.parse(s)}catch(h){console.warn("Failed to parse prototype checklist state",h)}return{checked:m,project:p||g[0]}},q=()=>{const[s,p]=d.useState(()=>v().checked),[m,h]=d.useState("data"),[a,j]=d.useState(()=>v().project);d.useEffect(()=>{typeof window>"u"||localStorage.setItem("pbi-prototype-builder",JSON.stringify(s))},[s]),d.useEffect(()=>{typeof window>"u"||localStorage.setItem("pbi-prototype-project",a)},[a]);const f=(t,r)=>{const i=`${a}-${t}-${r}`;p(o=>({...o,[i]:!o[i]}))},k=t=>{const r=t.items.length,i=t.items.filter((o,u)=>s[`${a}-${t.id}-${u}`]).length;return{completed:i,total:r,percent:Math.round(i/r*100)}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Prototype Builder"}),e.jsx("p",{className:"text-slate-600",children:"Comprehensive technical checklist for HHS deliverables."})]}),e.jsxs("div",{className:"w-full md:w-64",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide",children:"Active Project"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-brand-600 h-4 w-4"}),e.jsx("select",{value:a,onChange:t=>j(t.target.value),className:"input-field pl-10 py-2 text-sm font-medium text-brand-900 bg-brand-50 border-brand-200 focus:ring-brand-500",children:g.map(t=>e.jsx("option",{value:t,children:t},t))})]})]})]}),e.jsx("div",{className:"space-y-6",children:F.map(t=>{const r=k(t),i=r.percent===100,o=m===t.id,u=t.icon,n={blue:{bg:"bg-blue-100",text:"text-blue-700",bar:"bg-blue-500",border:"border-blue-200",lightBg:"bg-blue-50"},emerald:{bg:"bg-emerald-100",text:"text-emerald-700",bar:"bg-emerald-500",border:"border-emerald-200",lightBg:"bg-emerald-50"},amber:{bg:"bg-amber-100",text:"text-amber-700",bar:"bg-amber-500",border:"border-amber-200",lightBg:"bg-amber-50"}}[t.color];return e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`card transition-all duration-300 ${i?`${n.border} ${n.lightBg}/30`:""}`,children:[e.jsxs("div",{onClick:()=>h(o?null:t.id),className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center shadow-sm
                                        ${n.bg} ${n.text}`,children:e.jsx(u,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),e.jsx("p",{className:"text-sm text-slate-500",children:t.description})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsxs("div",{className:"text-sm font-semibold text-slate-700",children:[r.percent,"%"]}),e.jsx("div",{className:"text-xs text-slate-400",children:"Complete"})]}),o?e.jsx(D,{className:"h-5 w-5 text-slate-400"}):e.jsx($,{className:"h-5 w-5 text-slate-400"})]})]}),e.jsx("div",{className:"mt-4 h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${n.bar}`,style:{width:`${r.percent}%`}})}),e.jsx(w,{children:o&&e.jsx(y.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-6 space-y-3",children:t.items.map((c,l)=>{const b=c.text.split("**"),N=b.length>=3;return e.jsxs("div",{className:"flex items-start gap-3 group p-3 rounded-lg hover:bg-slate-50/80 transition-colors border border-transparent hover:border-slate-100",children:[e.jsx("div",{onClick:()=>f(t.id,l),className:`mt-0.5 cursor-pointer transition-colors ${s[`${a}-${t.id}-${l}`]?n.text:"text-slate-300 group-hover:text-slate-400"}`,children:s[`${a}-${t.id}-${l}`]?e.jsx(S,{className:"h-5 w-5"}):e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{onClick:()=>f(t.id,l),className:`text-sm cursor-pointer transition-colors ${s[`${a}-${t.id}-${l}`]?"text-slate-400 line-through":"text-slate-700"}`,children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold",children:b[1]}),b[2]]}):c.text}),c.link&&e.jsxs(C,{to:c.link,className:"inline-flex items-center gap-1 ml-2 text-xs font-medium text-brand-600 hover:text-brand-800 hover:underline",children:[c.linkText," ",e.jsx(U,{className:"h-3 w-3"})]})]})]},l)})})})})]},t.id)})})]})};export{q as default};
